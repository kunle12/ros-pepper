diff -ruN tinyxml-fixed/cmake/FindTinyXML.cmake.in tinyxml/cmake/FindTinyXML.cmake.in
--- tinyxml-fixed/cmake/FindTinyXML.cmake.in	1970-01-01 10:00:00.000000000 +1000
+++ tinyxml/cmake/FindTinyXML.cmake.in	2018-03-28 13:08:39.087420000 +1000
@@ -0,0 +1,74 @@
+##################################################################################################
+# 
+# CMake script for finding TinyXML.
+# 
+# Input variables:
+# 
+# - TinyXML_ROOT_DIR (optional): When specified, header files and libraries will be searched for in
+#     ${TinyXML_ROOT_DIR}/include
+#     ${TinyXML_ROOT_DIR}/libs
+#   respectively, and the default CMake search order will be ignored. When unspecified, the default
+#   CMake search order is used.
+#   This variable can be specified either as a CMake or environment variable. If both are set,
+#   preference is given to the CMake variable.
+#   Use this variable for finding packages installed in a nonstandard location, or for enforcing
+#   that one of multiple package installations is picked up.
+# 
+# 
+# Cache variables (not intended to be used in CMakeLists.txt files)
+# 
+# - TinyXML_INCLUDE_DIR: Absolute path to package headers.
+# - TinyXML_LIBRARY: Absolute path to library.
+# 
+# 
+# Output variables:
+# 
+# - TinyXML_FOUND: Boolean that indicates if the package was found
+# - TinyXML_INCLUDE_DIRS: Paths to the necessary header files
+# - TinyXML_LIBRARIES: Package libraries
+# 
+# 
+# Example usage:
+# 
+#  find_package(TinyXML)
+#  if(NOT TinyXML_FOUND)
+#    # Error handling
+#  endif()
+#  ...
+#  include_directories(${TinyXML_INCLUDE_DIRS} ...)
+#  ...
+#  target_link_libraries(my_target ${TinyXML_LIBRARIES})
+# 
+##################################################################################################
+
+# Get package location hint from environment variable (if any)
+if(NOT TinyXML_ROOT_DIR AND DEFINED ENV{TinyXML_ROOT_DIR})
+  set(TinyXML_ROOT_DIR "$ENV{TinyXML_ROOT_DIR}" CACHE PATH
+      "TinyXML base directory location (optional, used for nonstandard installation paths)")
+endif()
+
+# Search path for nonstandard package locations
+if(TinyXML_ROOT_DIR)
+  set(TinyXML_INCLUDE_PATH PATHS "${TinyXML_ROOT_DIR}/include" NO_DEFAULT_PATH)
+  set(TinyXML_LIBRARY_PATH PATHS "${TinyXML_ROOT_DIR}/lib"     NO_DEFAULT_PATH)
+endif()
+
+# Find headers and libraries
+find_path(TinyXML_INCLUDE_DIR NAMES tinyxml.h PATH_SUFFIXES "tinyxml" ${TinyXML_INCLUDE_PATH})
+find_library(TinyXML_LIBRARY  NAMES tinyxml   PATH_SUFFIXES "tinyxml" ${TinyXML_LIBRARY_PATH})
+
+mark_as_advanced(TinyXML_INCLUDE_DIR
+                 TinyXML_LIBRARY)
+
+# Output variables generation
+include(FindPackageHandleStandardArgs)
+find_package_handle_standard_args(TinyXML DEFAULT_MSG TinyXML_LIBRARY
+                                                      TinyXML_INCLUDE_DIR)
+
+set(TinyXML_FOUND ${TINYXML_FOUND}) # Enforce case-correctness: Set appropriately cased variable...
+unset(TINYXML_FOUND) # ...and unset uppercase variable generated by find_package_handle_standard_args
+
+if(TinyXML_FOUND)
+  set(TinyXML_INCLUDE_DIRS ${TinyXML_INCLUDE_DIR})
+  set(TinyXML_LIBRARIES ${TinyXML_LIBRARY})
+endif()
diff -ruN tinyxml-fixed/CMakeLists.txt tinyxml/CMakeLists.txt
--- tinyxml-fixed/CMakeLists.txt	1970-01-01 10:00:00.000000000 +1000
+++ tinyxml/CMakeLists.txt	2018-03-28 14:02:26.335420000 +1000
@@ -0,0 +1,27 @@
+cmake_minimum_required(VERSION 3.1)
+
+project(tinyxml LANGUAGES CXX)
+project(tinyxml VERSION 2.6.2)
+
+include(GNUInstallDirs)
+
+add_library(tinyxml SHARED
+    tinyxml.cpp
+    tinyxmlparser.cpp
+    tinyxmlerror.cpp
+    tinystr.cpp
+)
+
+set_target_properties(tinyxml PROPERTIES VERSION ${PROJECT_VERSION})
+set_target_properties(tinyxml PROPERTIES SOVERSION 2)
+
+install(TARGETS tinyxml
+    LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}
+    PUBLIC_HEADER DESTINATION ${CMAKE_INSTALL_INCLUDEDIR})
+
+configure_file(tinyxml.pc.in tinyxml.pc @ONLY)
+configure_file(cmake/FindTinyXML.cmake.in
+  "${PROJECT_BINARY_DIR}/FindTinyXML.cmake" @ONLY)
+
+install(FILES ${CMAKE_BINARY_DIR}/tinyxml.pc DESTINATION ${CMAKE_INSTALL_DATAROOTDIR}/pkgconfig)
+install(FILES ${CMAKE_BINARY_DIR}/FindTinyXML.cmake DESTINATION ${CMAKE_INSTALL_DATAROOTDIR}/cmake_modules/cmake/Modules)
diff -ruN tinyxml-fixed/Makefile tinyxml/Makefile
--- tinyxml-fixed/Makefile	2011-05-15 12:24:57.000000000 +1000
+++ tinyxml/Makefile	1970-01-01 10:00:00.000000000 +1000
@@ -1,130 +0,0 @@
-#****************************************************************************
-#
-# Makefile for TinyXml test.
-# Lee Thomason
-# www.grinninglizard.com
-#
-# This is a GNU make (gmake) makefile
-#****************************************************************************
-
-# DEBUG can be set to YES to include debugging info, or NO otherwise
-DEBUG          := NO
-
-# PROFILE can be set to YES to include profiling info, or NO otherwise
-PROFILE        := NO
-
-# TINYXML_USE_STL can be used to turn on STL support. NO, then STL
-# will not be used. YES will include the STL files.
-TINYXML_USE_STL := NO
-
-#****************************************************************************
-
-CC     := gcc
-CXX    := g++
-LD     := g++
-AR     := ar rc
-RANLIB := ranlib
-
-DEBUG_CFLAGS     := -Wall -Wno-format -g -DDEBUG
-RELEASE_CFLAGS   := -Wall -Wno-unknown-pragmas -Wno-format -O3
-
-LIBS		 :=
-
-DEBUG_CXXFLAGS   := ${DEBUG_CFLAGS} 
-RELEASE_CXXFLAGS := ${RELEASE_CFLAGS}
-
-DEBUG_LDFLAGS    := -g
-RELEASE_LDFLAGS  :=
-
-ifeq (YES, ${DEBUG})
-   CFLAGS       := ${DEBUG_CFLAGS}
-   CXXFLAGS     := ${DEBUG_CXXFLAGS}
-   LDFLAGS      := ${DEBUG_LDFLAGS}
-else
-   CFLAGS       := ${RELEASE_CFLAGS}
-   CXXFLAGS     := ${RELEASE_CXXFLAGS}
-   LDFLAGS      := ${RELEASE_LDFLAGS}
-endif
-
-ifeq (YES, ${PROFILE})
-   CFLAGS   := ${CFLAGS} -pg -O3
-   CXXFLAGS := ${CXXFLAGS} -pg -O3
-   LDFLAGS  := ${LDFLAGS} -pg
-endif
-
-#****************************************************************************
-# Preprocessor directives
-#****************************************************************************
-
-ifeq (YES, ${TINYXML_USE_STL})
-  DEFS := -DTIXML_USE_STL
-else
-  DEFS :=
-endif
-
-#****************************************************************************
-# Include paths
-#****************************************************************************
-
-#INCS := -I/usr/include/g++-2 -I/usr/local/include
-INCS :=
-
-
-#****************************************************************************
-# Makefile code common to all platforms
-#****************************************************************************
-
-CFLAGS   := ${CFLAGS}   ${DEFS}
-CXXFLAGS := ${CXXFLAGS} ${DEFS}
-
-#****************************************************************************
-# Targets of the build
-#****************************************************************************
-
-OUTPUT := xmltest
-
-all: ${OUTPUT}
-
-
-#****************************************************************************
-# Source files
-#****************************************************************************
-
-SRCS := tinyxml.cpp tinyxmlparser.cpp xmltest.cpp tinyxmlerror.cpp tinystr.cpp
-
-# Add on the sources for libraries
-SRCS := ${SRCS}
-
-OBJS := $(addsuffix .o,$(basename ${SRCS}))
-
-#****************************************************************************
-# Output
-#****************************************************************************
-
-${OUTPUT}: ${OBJS}
-	${LD} -o $@ ${LDFLAGS} ${OBJS} ${LIBS} ${EXTRA_LIBS}
-
-#****************************************************************************
-# common rules
-#****************************************************************************
-
-# Rules for compiling source files to object files
-%.o : %.cpp
-	${CXX} -c ${CXXFLAGS} ${INCS} $< -o $@
-
-%.o : %.c
-	${CC} -c ${CFLAGS} ${INCS} $< -o $@
-
-dist:
-	bash makedistlinux
-
-clean:
-	-rm -f core ${OBJS} ${OUTPUT}
-
-depend:
-	#makedepend ${INCS} ${SRCS}
-
-tinyxml.o: tinyxml.h tinystr.h
-tinyxmlparser.o: tinyxml.h tinystr.h
-xmltest.o: tinyxml.h tinystr.h
-tinyxmlerror.o: tinyxml.h tinystr.h
diff -ruN tinyxml-fixed/tinyxml.pc.in tinyxml/tinyxml.pc.in
--- tinyxml-fixed/tinyxml.pc.in	1970-01-01 10:00:00.000000000 +1000
+++ tinyxml/tinyxml.pc.in	2018-03-28 13:15:12.963420000 +1000
@@ -0,0 +1,12 @@
+prefix=@CMAKE_INSTALL_PREFIX@
+exec_prefix=@CMAKE_INSTALL_PREFIX@
+libdir=${exec_prefix}/@CMAKE_INSTALL_LIBDIR@
+includedir=${prefix}/@CMAKE_INSTALL_INCLUDEDIR@
+
+Name: @PROJECT_NAME@
+Description: @PROJECT_DESCRIPTION@
+Version: @PROJECT_VERSION@
+
+Requires:
+Libs: -L${libdir} -ltinyxml
+Cflags: -I${includedir}
